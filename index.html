<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Debugging RudderStack</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <script type="text/javascript">
        // RudderStack Initialization
        !function() {
            "use strict";
            window.RudderSnippetVersion = "3.0.32";
            var e = "rudderanalytics";
            window[e] || (window[e] = []);
            var rudderanalytics = window[e];
            if (Array.isArray(rudderanalytics)) {
                if (true === rudderanalytics.snippetExecuted && window.console && console.error) {
                    console.error("RudderStack JavaScript SDK snippet included more than once.");
                } else {
                    rudderanalytics.snippetExecuted = true,
                    window.rudderAnalyticsBuildType = "legacy";
                    var sdkBaseUrl = "https://cdn.rudderlabs.com/v3";
                    var sdkName = "rsa.min.js";
                    var scriptLoadingMode = "async";
                    var r = ["setDefaultInstanceKey", "load", "ready", "page", "track", "identify", "alias", "group", "reset", "setAnonymousId", "startSession", "endSession", "consent"];
                    for (var n = 0; n < r.length; n++) {
                        var t = r[n];
                        rudderanalytics[t] = function(r) {
                            return function() {
                                var n;
                                Array.isArray(window[e]) ? rudderanalytics.push([r].concat(Array.prototype.slice.call(arguments))) :
                                null === (n = window[e][r]) || void 0 === n || n.apply(window[e], arguments);
                            };
                        }(t);
                    }
                    window.rudderAnalyticsAddScript = function(e, r, n) {
                        var t = document.createElement("script");
                        t.src = e;
                        t.setAttribute("data-loader", "RS_JS_SDK");
                        r && n && t.setAttribute(r, n);
                        "async" === scriptLoadingMode ? t.async = true : "defer" === scriptLoadingMode && (t.defer = true);
                        (document.head || document.getElementsByTagName("head")[0]).appendChild(t);
                    };
                    window.rudderAnalyticsMount = function() {
                        window.rudderAnalyticsAddScript(`${sdkBaseUrl}/${window.rudderAnalyticsBuildType}/${sdkName}`, "data-rsa-write-key", "2rDwScLwFuIC33MoOKvKNATAZC9");
                    };
                    "undefined" === typeof Promise || "undefined" === typeof globalThis ?
                        window.rudderAnalyticsAddScript("https://polyfill-fastly.io/v3/polyfill.min.js?version=3.111.0&features=Symbol%2CPromise&callback=rudderAnalyticsMount") :
                        window.rudderAnalyticsMount();
                }
            }
        }();
    </script>
</head>
<body>
    <div class="text-center">
        <h1>Hello World</h1>
        <p>This is a debugged RudderStack integration example. Check console logs and network requests for verification.</p>
        <a class="btn btn-primary" id="signup-button">Signup now</a>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script>
        // Enable RudderStack Debugging
        rudderanalytics.debug = true;

        // RudderStack Ready Callback
        rudderanalytics.ready(function () {
            console.log("RudderStack is initialized and ready!");
        });

        // Explicitly Track Page Load
        rudderanalytics.page("Debugging RudderStack Page", {
            title: document.title,
            url: window.location.href
        });
        console.log("Page event tracked.");

        // Attach Click Event Listener for the Button
        document.getElementById('signup-button').addEventListener('click', function () {
            console.log("Signup button clicked.");
            rudderanalytics.track('Signup Button Clicked', {
                buttonName: 'Signup now'
            });
        });
    </script>
</body>
</html>
